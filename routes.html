<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Routes — HP Tourism</title>
  <link rel="stylesheet" href="assets/style.css" />

  <!-- Leaflet -->
  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
  <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
</head>
<body>
  <div class="topbar">
    <div class="inner">
      <a class="brand" href="index.html"><div class="logo"></div><div>HP Tourism Portal</div></a>
      <div class="nav">
        <a href="index.html">Home</a>
        <a href="districts.html">Districts</a>
        <a href="packages.html">Packages</a>
        <a href="hotels.html">Hotels</a>
        <a href="temples.html">Temples</a>
        <a href="treks.html">Treks</a>
        <a href="routes.html">Routes</a>
        <a href="admin.html">Admin</a>
      </div>
    </div>
  </div>

  <div class="container">
    <div class="sectionHead">
      <div>
        <h2>Routes & Map (OpenStreetMap)</h2>
        <div class="meta">All demo locations pinned on map • no API key</div>
      </div>
    </div>

    <div class="row">
      <main class="content">
        <div class="panel">
          <h3>HP Locations Map</h3>
          <div class="note">This map shows pins for all items that have coordinates in <b>assets/data.js</b>.</div>
          <div class="divider"></div>
          <div id="allMap" class="mapBox" style="height:420px;"></div>
        </div>

        <div class="panel" style="margin-top:14px;">
          <h3>Next upgrade (if you want)</h3>
          <div class="note">
            • Add “Start point” and “Destination” dropdowns  
            • Draw route line using OpenRouteService (free key)  
            • Save trip logs (date, km, cost) in Firebase  
          </div>
        </div>

        <div class="footer">Routes page is now MAP-enabled.</div>
      </main>

      <aside class="sidebar">
        <div class="side-title">Quick links <span class="small">HP</span></div>
        <div class="divider"></div>
        <a class="pill" href="index.html">Home (Filters)</a>
        <a class="pill" href="districts.html">Districts</a>
        <a class="pill" href="packages.html">Packages</a>
        <a class="pill" href="hotels.html">Hotels</a>
        <a class="pill" href="temples.html">Temples</a>
        <a class="pill" href="treks.html">Treks</a>

        <div class="divider"></div>
        <div class="panel">
          <h3>Tip</h3>
          <div class="note">Add more coords in data.js to expand map pins.</div>
        </div>
      </aside>
    </div>
  </div>

  <script src="assets/data.js"></script>
  <script src="assets/ui.js"></script>
  <script src="assets/map.js"></script>
  <script>
    UI.setActiveNav();

    const map = MapUI.createMap("allMap", [31.7, 77.2], 7);
    const markers = [];

    (HP_DATA.items||[]).forEach(it=>{
      if(!it.coords) return;
      markers.push(MapUI.addMarker(map, it.coords, `${it.name}`));
    });

    MapUI.fitToMarkers(map, markers);
  </script>
</body>
</html>
