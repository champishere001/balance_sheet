<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Garg Enterprise â€¢ Wholesale & Retail Electronics</title>

<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@400;600;700;800;900&display=swap" rel="stylesheet">

<style>
:root{
  --bg0:#050816; --bg1:#070a16;
  --panel:rgba(255,255,255,.06);
  --panel2:rgba(255,255,255,.04);
  --border:rgba(255,255,255,.12);
  --text:#eaf0ff;
  --muted:rgba(234,240,255,.70);
  --a1:#60a5fa; --a2:#22d3ee;
  --good:#34d399; --warn:#fbbf24; --bad:#fb7185;
  --r:22px; --shadow:0 26px 90px rgba(0,0,0,.55);
}
*{box-sizing:border-box}
html{scroll-behavior:smooth}
body{
  margin:0;
  font-family:"Plus Jakarta Sans",system-ui;
  color:var(--text);
  background:
    radial-gradient(1200px 700px at 20% -10%, rgba(96,165,250,.22), transparent 55%),
    radial-gradient(1000px 700px at 85% 10%, rgba(34,211,238,.18), transparent 55%),
    linear-gradient(180deg, var(--bg0) 0%, var(--bg1) 45%, var(--bg0) 100%);
  overflow-x:hidden;
}
a{color:inherit;text-decoration:none}
.wrap{max-width:1220px;margin:0 auto;padding:16px}

header{
  position:sticky; top:0; z-index:60;
  backdrop-filter: blur(16px);
  background: rgba(6,10,22,.72);
  border-bottom:1px solid rgba(255,255,255,.08);
}
.bar{
  max-width:1220px;margin:0 auto;
  padding:12px 16px;
  display:flex;gap:12px;align-items:center;flex-wrap:wrap;
}
.logo{display:flex;align-items:center;gap:10px}
.mark{
  width:42px;height:42px;border-radius:16px;
  background:linear-gradient(135deg, rgba(96,165,250,.95), rgba(34,211,238,.9));
  box-shadow:0 18px 60px rgba(96,165,250,.22);
}
.brandTitle{font-weight:1000;font-size:14px}
.brandSub{font-size:12px;color:var(--muted);font-weight:900}
.search{
  flex:1; min-width:220px;
  display:flex; gap:8px; align-items:center;
  padding:10px 12px; border-radius:16px;
  border:1px solid rgba(255,255,255,.12);
  background:rgba(255,255,255,.05);
}
.search input{flex:1;border:none;outline:none;background:transparent;color:var(--text);font-weight:900}
.btn{
  border:1px solid rgba(255,255,255,.14);
  background:rgba(255,255,255,.06);
  color:var(--text);
  font-weight:1000;
  padding:10px 12px;
  border-radius:14px;
  cursor:pointer;
  transition:.18s ease;
  display:inline-flex;align-items:center;gap:8px;
}
.btn:hover{transform:translateY(-1px); background:rgba(255,255,255,.085);}
.btn.primary{border-color:rgba(96,165,250,.35); background:linear-gradient(135deg, rgba(96,165,250,.25), rgba(34,211,238,.15));}
.btn.bad{border-color:rgba(251,113,133,.35); background:linear-gradient(135deg, rgba(251,113,133,.22), rgba(251,191,36,.08));}
.pill{
  font-size:11px;font-weight:1100;padding:6px 8px;border-radius:999px;
  border:1px solid rgba(255,255,255,.12);
  background:rgba(255,255,255,.04);color:var(--muted);
}
.pill.good{border-color:rgba(52,211,153,.22);background:rgba(52,211,153,.10);color:rgba(234,240,255,.92);}

.hero{
  margin-top:12px;
  border:1px solid rgba(255,255,255,.12);
  background:rgba(255,255,255,.06);
  border-radius:28px;
  box-shadow:var(--shadow);
  padding:18px;
  position:relative; overflow:hidden;
}
.hero::before{
  content:""; position:absolute; inset:-2px;
  background:
    radial-gradient(520px 220px at 15% 10%, rgba(96,165,250,.22), transparent 60%),
    radial-gradient(520px 240px at 85% 35%, rgba(34,211,238,.18), transparent 60%);
  pointer-events:none;
}
.heroIn{position:relative}
.tag{
  display:inline-flex;gap:8px;align-items:center;
  font-size:12px;font-weight:1100;
  padding:8px 10px;border-radius:999px;
  border:1px solid rgba(96,165,250,.35);
  background:rgba(96,165,250,.12);
}
.dot{width:9px;height:9px;border-radius:99px;background:linear-gradient(135deg,var(--a1),var(--a2));}
h1{margin:10px 0 6px;font-size:clamp(26px,4vw,46px);line-height:1.05;letter-spacing:-.8px}
.grad{background:linear-gradient(90deg,var(--a1),var(--a2));-webkit-background-clip:text;background-clip:text;color:transparent;}
.sub{margin:0;color:var(--muted);font-weight:900;line-height:1.6;max-width:92ch}
.heroCtas{display:flex;gap:10px;flex-wrap:wrap;margin-top:14px}

/* Layout */
.layout{
  display:grid;
  grid-template-columns: 320px 1fr;
  gap:12px;
  align-items:start;
  margin-top:14px;
}
@media(max-width:980px){
  .layout{grid-template-columns: 1fr;}
}

.sidebar{
  position:sticky; top:86px; /* below header */
  border-radius:24px;
  border:1px solid rgba(255,255,255,.12);
  background:rgba(255,255,255,.05);
  box-shadow: 0 18px 70px rgba(0,0,0,.35);
  overflow:hidden;
}
.sHead{
  padding:14px;
  display:flex; align-items:center; justify-content:space-between; gap:10px;
  border-bottom:1px solid rgba(255,255,255,.08);
  background:rgba(255,255,255,.03);
}
.sHead b{font-weight:1200}
.sBody{padding:14px; max-height: calc(100vh - 120px); overflow:auto;}
.block{padding:12px;border-radius:18px;border:1px solid rgba(255,255,255,.10);background:rgba(255,255,255,.04);margin-bottom:10px;}
.blockTitle{display:flex;justify-content:space-between;align-items:center;gap:10px;font-weight:1200}
.blockSub{margin-top:6px;color:var(--muted);font-weight:900;font-size:12px;line-height:1.55}
.sep{height:1px;background:rgba(255,255,255,.08);margin:10px 0}
.list{display:flex;flex-direction:column;gap:8px;margin-top:10px}
.catItem{
  display:flex;align-items:center;justify-content:space-between;gap:10px;
  padding:10px 10px;border-radius:16px;
  border:1px solid rgba(255,255,255,.10);
  background:rgba(255,255,255,.03);
  cursor:pointer; transition:.18s ease;
}
.catItem:hover{background:rgba(255,255,255,.06);transform:translateY(-1px)}
.catItem.on{border-color:rgba(34,211,238,.26);background:rgba(34,211,238,.10)}
.catLeft{display:flex;gap:10px;align-items:center;font-weight:1100}
.badge{font-size:11px;font-weight:1100;padding:5px 8px;border-radius:999px;border:1px solid rgba(255,255,255,.12);color:var(--muted);background:rgba(255,255,255,.03)}

.checkRow{display:flex;gap:10px;align-items:center;justify-content:space-between;margin-top:10px}
.check{
  display:flex;gap:10px;align-items:center;
  padding:10px;border-radius:16px;border:1px solid rgba(255,255,255,.10);
  background:rgba(255,255,255,.03);
}
.check input{width:18px;height:18px}
.range{
  display:grid;grid-template-columns:1fr 1fr;gap:10px;margin-top:10px
}
.range input{
  width:100%;
  padding:10px 10px;border-radius:14px;border:1px solid rgba(255,255,255,.10);
  background:rgba(255,255,255,.03); color:var(--text); font-weight:1000;
  outline:none;
}
.brandGrid{display:grid;grid-template-columns:1fr 1fr;gap:10px;margin-top:10px}
.brandOpt{
  display:flex;gap:10px;align-items:center;
  padding:10px;border-radius:16px;border:1px solid rgba(255,255,255,.10);
  background:rgba(255,255,255,.03);
  cursor:pointer;
}
.brandOpt input{width:18px;height:18px}
.sortRow{display:flex;gap:10px;align-items:center;margin-top:10px}
.select{
  width:100%;
  padding:10px 12px;border-radius:14px;border:1px solid rgba(255,255,255,.12);
  background:rgba(255,255,255,.03);color:var(--text);font-weight:1100;outline:none;
}

/* Main area */
.main{
  border-radius:24px;
  border:1px solid rgba(255,255,255,.12);
  background:rgba(255,255,255,.05);
  overflow:hidden;
}
.mHead{
  padding:14px;
  display:flex;gap:10px;align-items:center;justify-content:space-between;flex-wrap:wrap;
  border-bottom:1px solid rgba(255,255,255,.08);
  background:rgba(255,255,255,.03);
}
.mHeadLeft{display:flex;gap:10px;align-items:center;flex-wrap:wrap}
.kpi{display:flex;gap:8px;align-items:center}
.kpi .k{font-weight:1200}
.mBody{padding:14px}
.grid{
  display:grid;grid-template-columns:repeat(3,1fr);gap:12px;
}
@media(max-width:1200px){.grid{grid-template-columns:repeat(2,1fr)}}
@media(max-width:560px){.grid{grid-template-columns:1fr}}

.card{
  border-radius:22px;border:1px solid rgba(255,255,255,.11);
  background:rgba(255,255,255,.05);
  padding:14px;display:flex;flex-direction:column;gap:10px;
  transition:.18s ease;
}
.card:hover{transform:translateY(-2px);border-color:rgba(255,255,255,.18);background:rgba(255,255,255,.07);}
.img{
  height:160px;border-radius:18px;border:1px solid rgba(255,255,255,.10);
  background:
    radial-gradient(180px 120px at 30% 30%, rgba(255,255,255,.18), transparent 55%),
    linear-gradient(135deg, rgba(96,165,250,.25), rgba(34,211,238,.16));
  display:grid;place-items:center;overflow:hidden;
}
.img img{width:100%;height:100%;object-fit:cover;display:block}
.name{font-weight:1200}
.desc{color:var(--muted);font-weight:900;font-size:12px;line-height:1.45;margin-top:-6px}
.meta{display:flex;gap:6px;flex-wrap:wrap}
.priceRow{display:flex;justify-content:space-between;align-items:flex-end;gap:10px}
.priceRow strong{font-weight:1200}
.priceRow small{display:block;color:var(--muted);font-weight:1000;margin-top:2px}
.actions{display:flex;gap:8px;flex-wrap:wrap}

/* Mobile filter drawer */
.mobFilterBtn{display:none}
@media(max-width:980px){
  .sidebar{position:fixed; inset:0 auto 0 0; width:min(360px,92vw); top:0; height:100vh; z-index:80; transform:translateX(-105%); transition:.22s ease;}
  .sidebar.show{transform:translateX(0)}
  .sBody{max-height: calc(100vh - 70px);}
  .mobFilterBtn{display:inline-flex}
  .overlay{
    position:fixed; inset:0; background:rgba(0,0,0,.55);
    backdrop-filter: blur(8px);
    opacity:0; pointer-events:none; transition:.18s ease;
    z-index:75;
  }
  .overlay.show{opacity:1;pointer-events:auto}
}

.footer{
  padding:34px 16px;
  color:var(--muted);
  font-weight:900;
  border-top:1px solid rgba(255,255,255,.08);
  margin-top:18px;
  text-align:center;
}
.small{font-size:12px}
</style>
</head>

<body>

<header>
  <div class="bar">
    <div class="logo">
      <div class="mark"></div>
      <div>
        <div class="brandTitle">Garg Enterprise</div>
        <div class="brandSub">Wholesale â€¢ Retail â€¢ Authorized Dealer</div>
      </div>
    </div>

    <div class="search">
      ðŸ”Ž <input id="q" placeholder="Search products (name, category, brand)..." />
    </div>

    <button class="btn mobFilterBtn" id="openFilters">â˜° Filters</button>
    <button class="btn" id="modeBtn">Retail</button>
    <button class="btn primary" id="resetBtn">Reset</button>
  </div>
</header>

<div class="wrap">

  <section class="hero">
    <div class="heroIn">
      <div class="tag"><span class="dot"></span> Sidebar Packaging Filters â€¢ E-commerce Look</div>
      <h1>Shop Electronics with <span class="grad">Packaged Filters</span> (Sidebar)</h1>
      <p class="sub">
        Category + Price + Brand + Stock + Sort â€” all on sidebar like Amazon/Flipkart style.
        Later we can connect this page to Google Sheet / Firebase for live stock.
      </p>
      <div class="heroCtas">
        <a class="btn primary" href="#store">Browse Store</a>
        <a class="btn" href="#contact">Business Enquiry</a>
      </div>
    </div>
  </section>

  <div class="layout" id="store">

    <!-- Mobile overlay -->
    <div class="overlay" id="ov"></div>

    <!-- SIDEBAR -->
    <aside class="sidebar" id="sb">
      <div class="sHead">
        <b>Filters</b>
        <div style="display:flex;gap:8px">
          <button class="btn" id="closeFilters" style="padding:8px 10px;">Close</button>
        </div>
      </div>

      <div class="sBody">

        <div class="block">
          <div class="blockTitle">
            <span>Categories</span>
            <span class="badge" id="catCount">0</span>
          </div>
          <div class="blockSub">Pick one category (like a packaged sidebar).</div>
          <div class="list" id="catList"></div>
        </div>

        <div class="block">
          <div class="blockTitle"><span>Price Range</span><span class="badge">â‚¹</span></div>
          <div class="blockSub">Min / Max filter (Retail or Wholesale price as per mode).</div>
          <div class="range">
            <input id="minP" type="number" placeholder="Min (â‚¹)" />
            <input id="maxP" type="number" placeholder="Max (â‚¹)" />
          </div>
          <div class="sep"></div>
          <div class="checkRow">
            <label class="check" style="flex:1;cursor:pointer">
              <input id="inStock" type="checkbox" />
              <span style="font-weight:1100">In-stock only</span>
            </label>
          </div>
        </div>

        <div class="block">
          <div class="blockTitle"><span>Brands</span><span class="badge" id="brandCount">0</span></div>
          <div class="blockSub">Select multiple brands.</div>
          <div class="brandGrid" id="brands"></div>
        </div>

        <div class="block">
          <div class="blockTitle"><span>Sort</span><span class="badge">â‡…</span></div>
          <div class="sortRow">
            <select class="select" id="sort">
              <option value="featured">Featured</option>
              <option value="low">Price: Low â†’ High</option>
              <option value="high">Price: High â†’ Low</option>
              <option value="name">Name: A â†’ Z</option>
              <option value="stock">Stock: High â†’ Low</option>
            </select>
          </div>
        </div>

        <div class="block">
          <div class="blockTitle"><span>Wholesale Rules</span><span class="badge">B2B</span></div>
          <div class="blockSub">
            Toggle <b>Wholesale</b> from top bar. Later we can enforce MOQ / pack-size on cart checkout.
          </div>
        </div>

      </div>
    </aside>

    <!-- MAIN -->
    <section class="main">
      <div class="mHead">
        <div class="mHeadLeft">
          <div class="kpi">
            <span class="pill" id="modePill">Retail</span>
            <span class="pill good" id="resultPill">0 items</span>
          </div>
          <span class="pill" id="activeCat">All</span>
        </div>
        <div class="mHeadLeft">
          <span class="pill">Tip: Use sidebar filters</span>
        </div>
      </div>
      <div class="mBody">
        <div class="grid" id="grid"></div>
      </div>
    </section>

  </div>

  <div class="footer" id="contact">
    <div class="small">
      Â© <span id="yr"></span> Garg Enterprise â€¢ Shimla (HP) â€¢ Bulk orders â€¢ Wholesale & Retail
    </div>
  </div>

</div>

<script>
const $ = (id)=>document.getElementById(id);
const money = (n)=>"â‚¹"+Math.round(n).toLocaleString("en-IN");
const toNum = (v)=>Number(v||0);

let mode = "Retail";
let selectedCat = "All";
let selectedBrands = new Set();
let onlyInStock = false;

const CATEGORIES = [
  {name:"All", icon:"âœ¨"},
  {name:"Powerbanks", icon:"ðŸ”‹"},
  {name:"Speakers", icon:"ðŸ”Š"},
  {name:"Chargers", icon:"ðŸ”Œ"},
  {name:"Cables", icon:"ðŸ§µ"},
  {name:"Earbuds", icon:"ðŸŽ§"},
  {name:"Headphones", icon:"ðŸŽ§"},
  {name:"Mobile Accessories", icon:"ðŸ“±"},
  {name:"Computer Accessories", icon:"ðŸ’»"},
  {name:"Storage Devices", icon:"ðŸ’¾"},
  {name:"Networking", icon:"ðŸ“¡"},
  {name:"Smart Gadgets", icon:"ðŸ "},
  {name:"Car Accessories", icon:"ðŸš—"},
  {name:"Adapters & Hubs", icon:"ðŸ§©"},
  {name:"Keyboard & Mouse", icon:"âŒ¨ï¸"},
  {name:"Power Strips", icon:"âš¡"},
  {name:"CCTV & Security", icon:"ðŸ“·"},
  {name:"TV Accessories", icon:"ðŸ“º"},
  {name:"Gaming Accessories", icon:"ðŸŽ®"},
  {name:"Others", icon:"ðŸ“¦"},
];

const PRODUCTS = [
  {id:"pb20", name:"Portronics Powerbank 20,000mAh", category:"Powerbanks", brand:"Portronics", price:1699, wholesale:1200, stock:25,
   img:"https://images.unsplash.com/photo-1580915411954-282cb1b0d780?auto=format&fit=crop&w=1200&q=60", specs:["22.5W fast charge","Type-C","LED indicator"]},
  {id:"spk1", name:"Mini Bluetooth Speaker", category:"Speakers", brand:"Portronics", price:1299, wholesale:980, stock:12,
   img:"https://images.unsplash.com/photo-1546435770-a3e426bf472b?auto=format&fit=crop&w=1200&q=60", specs:["Deep bass","RGB lights","BT 5.3"]},
  {id:"chg33", name:"33W Fast Charger", category:"Chargers", brand:"Portronics", price:999, wholesale:740, stock:40,
   img:"https://images.unsplash.com/photo-1583864697784-a0efc8379f70?auto=format&fit=crop&w=1200&q=60", specs:["PD/QC","Compact","Safe charging"]},
  {id:"c2c", name:"Type-C to Type-C Cable (1m)", category:"Cables", brand:"Portronics", price:299, wholesale:149, stock:120,
   img:"https://images.unsplash.com/photo-1612810436541-336fab0f2a91?auto=format&fit=crop&w=1200&q=60", specs:["3A","Braided","Data sync"]},
  {id:"wm", name:"Wireless Mouse Silent Click", category:"Computer Accessories", brand:"Portronics", price:699, wholesale:420, stock:55,
   img:"https://images.unsplash.com/photo-1615663245857-ac93bb7c39e7?auto=format&fit=crop&w=1200&q=60", specs:["2.4GHz","Silent","Ergonomic"]},
  {id:"ear", name:"TWS Earbuds ENC", category:"Earbuds", brand:"Portronics", price:1899, wholesale:1490, stock:18,
   img:"https://images.unsplash.com/photo-1585386959984-a41552231693?auto=format&fit=crop&w=1200&q=60", specs:["ENC mic","Low latency","Type-C"]},

  {id:"hub7", name:"7-in-1 USB-C Hub", category:"Adapters & Hubs", brand:"Garg Select", price:2199, wholesale:1650, stock:9,
   img:"https://images.unsplash.com/photo-1619953942547-233a3f5f8aef?auto=format&fit=crop&w=1200&q=60", specs:["HDMI","USB 3.0","PD pass-through"]},
  {id:"ssd", name:"Portable SSD 1TB", category:"Storage Devices", brand:"SanDisk", price:8999, wholesale:8350, stock:4,
   img:"https://images.unsplash.com/photo-1625750331870-6240a74f6e6a?auto=format&fit=crop&w=1200&q=60", specs:["USB-C","High speed","Shock resistant"]},
  {id:"router", name:"Dual Band Wi-Fi Router", category:"Networking", brand:"TP-Link", price:2799, wholesale:2499, stock:14,
   img:"https://images.unsplash.com/photo-1605648916319-cbdb7bdf4c5c?auto=format&fit=crop&w=1200&q=60", specs:["Dual band","High coverage","Easy setup"]},
];

function getDisplayPrice(p){
  return (mode==="Wholesale" && p.wholesale) ? p.wholesale : p.price;
}

function uniqueBrands(){
  const s = new Set(PRODUCTS.map(p=>p.brand));
  return [...s].sort((a,b)=>a.localeCompare(b));
}

function renderSidebar(){
  // Categories with counts
  const counts = {};
  PRODUCTS.forEach(p=>{
    counts[p.category] = (counts[p.category]||0) + 1;
  });

  $("catCount").textContent = `${CATEGORIES.length-1}+`;
  $("catList").innerHTML = CATEGORIES.map(c=>{
    const on = (selectedCat===c.name) ? "on" : "";
    const count = c.name==="All" ? PRODUCTS.length : (counts[c.name]||0);
    return `
      <div class="catItem ${on}" data-cat="${c.name}">
        <div class="catLeft"><span>${c.icon}</span><span>${c.name}</span></div>
        <span class="badge">${count}</span>
      </div>
    `;
  }).join("");

  document.querySelectorAll(".catItem").forEach(el=>{
    el.onclick = ()=>{
      selectedCat = el.dataset.cat;
      document.querySelectorAll(".catItem").forEach(x=>x.classList.remove("on"));
      el.classList.add("on");
      $("activeCat").textContent = selectedCat;
      renderProducts();
      // close drawer on mobile after pick
      if(window.matchMedia("(max-width: 980px)").matches){ closeFilters(); }
    };
  });

  // Brands
  const brands = uniqueBrands();
  $("brandCount").textContent = `${brands.length}`;
  $("brands").innerHTML = brands.map(b=>{
    const checked = selectedBrands.has(b) ? "checked" : "";
    return `
      <label class="brandOpt">
        <input type="checkbox" data-brand="${b}" ${checked}/>
        <span style="font-weight:1100">${b}</span>
      </label>
    `;
  }).join("");

  $("brands").querySelectorAll("input[type=checkbox]").forEach(cb=>{
    cb.onchange = ()=>{
      const b = cb.dataset.brand;
      if(cb.checked) selectedBrands.add(b); else selectedBrands.delete(b);
      renderProducts();
    };
  });
}

function renderProducts(){
  const q = ($("q").value||"").trim().toLowerCase();
  const minP = toNum($("minP").value);
  const maxP = toNum($("maxP").value);
  const sort = $("sort").value;

  onlyInStock = $("inStock").checked;

  let list = PRODUCTS.slice();

  // filter: category
  if(selectedCat!=="All"){
    list = list.filter(p=>p.category===selectedCat);
  }

  // filter: search
  if(q){
    list = list.filter(p=> (p.name+" "+p.category+" "+p.brand).toLowerCase().includes(q));
  }

  // filter: brands
  if(selectedBrands.size>0){
    list = list.filter(p=>selectedBrands.has(p.brand));
  }

  // filter: stock
  if(onlyInStock){
    list = list.filter(p=>toNum(p.stock)>0);
  }

  // filter: price range
  if(minP>0) list = list.filter(p=>getDisplayPrice(p) >= minP);
  if(maxP>0) list = list.filter(p=>getDisplayPrice(p) <= maxP);

  // sort
  if(sort==="low") list.sort((a,b)=>getDisplayPrice(a)-getDisplayPrice(b));
  if(sort==="high") list.sort((a,b)=>getDisplayPrice(b)-getDisplayPrice(a));
  if(sort==="name") list.sort((a,b)=>a.name.localeCompare(b.name));
  if(sort==="stock") list.sort((a,b)=>toNum(b.stock)-toNum(a.stock));

  $("resultPill").textContent = `${list.length} items`;
  $("modePill").textContent = mode;

  $("grid").innerHTML = list.map(p=>{
    const price = getDisplayPrice(p);
    const stock = toNum(p.stock);
    const top = (p.specs||[]).slice(0,3).join(" â€¢ ");
    return `
      <div class="card">
        <div class="img"><img src="${p.img}" alt=""></div>
        <div class="name">${p.name}</div>
        <div class="desc">${top || (p.brand?("Brand: "+p.brand):"")}</div>
        <div class="meta">
          <span class="pill">${p.category}</span>
          <span class="pill">${p.brand}</span>
          <span class="pill ${stock>0?'good':''}">${stock>0?("In stock: "+stock):"Out of stock"}</span>
        </div>
        <div class="priceRow">
          <div>
            <strong>${money(price)}</strong>
            <small>${mode}</small>
          </div>
          <div class="actions">
            <button class="btn">View</button>
            <button class="btn primary" ${stock<=0?'disabled style="opacity:.45;cursor:not-allowed"':''}>Add</button>
          </div>
        </div>
      </div>
    `;
  }).join("");
}

// Mobile drawer controls
const sb = $("sb"), ov = $("ov");
function openFilters(){ sb.classList.add("show"); ov.classList.add("show"); }
function closeFilters(){ sb.classList.remove("show"); ov.classList.remove("show"); }

$("openFilters").onclick=openFilters;
$("closeFilters").onclick=closeFilters;
ov.onclick=closeFilters;

$("q").addEventListener("input", renderProducts);
$("minP").addEventListener("input", renderProducts);
$("maxP").addEventListener("input", renderProducts);
$("inStock").addEventListener("change", renderProducts);
$("sort").addEventListener("change", renderProducts);

$("modeBtn").onclick=()=>{
  mode = (mode==="Retail") ? "Wholesale" : "Retail";
  $("modeBtn").textContent = mode;
  renderProducts();
};

$("resetBtn").onclick=()=>{
  selectedCat="All";
  selectedBrands.clear();
  $("q").value="";
  $("minP").value="";
  $("maxP").value="";
  $("inStock").checked=false;
  $("sort").value="featured";
  mode="Retail";
  $("modeBtn").textContent="Retail";
  $("activeCat").textContent="All";
  renderSidebar();
  renderProducts();
};

document.getElementById("yr").textContent = new Date().getFullYear();

// Init
renderSidebar();
renderProducts();
</script>

</body>
</html>